{"ast":null,"code":"var _jsxFileName = \"E:\\\\Documentos\\\\Escom\\\\5semestre\\\\Ingenier\\xEDa de software\\\\jade\\\\src\\\\routes\\\\unlogin\\\\Login.tsx\";\nimport './css/Registro.css';\nimport { Formik, Field, Form } from 'formik';\nimport axios from \"axios\";\nimport * as Yup from 'yup';\nimport { Card } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport Session from \"../../session/Session\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registro-container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"registro-card\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n        variant: \"top\",\n        src: \"/img/jade_logo.jpg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            correo: '',\n            password: ''\n          },\n          validationSchema: Yup.object().shape({\n            correo: Yup.string().email('Email inválido').required('Obligatorio'),\n            password: Yup.string().required(\"Obligatorio\")\n          }),\n          onSubmit: async values => {\n            // Hacer una llamada de AJAX para verificar al usuario\n            let response = await axios.post(\"localhost:3500/api/login\", values);\n\n            if (response.login === true) {\n              // Guardar los datos del USUARIO si está verificado\n              Session.setLogin(true);\n              Session.setUser(response.user == 0 ? \"usuario\" : \"admin\");\n            } else {\n              Session.setLogin(false);\n            }\n          },\n          children: ({\n            errors,\n            touched\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                htmlFor: \"form3Example1q\",\n                children: \"Correo electr\\xF3nico\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"text\",\n                id: \"correo\",\n                name: \"correo\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 10\n              }, this), errors.correo && touched.correo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-danger\",\n                children: errors.correo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 11\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                htmlFor: \"form3Example1q\",\n                children: \"Contrase\\xF1a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"password\",\n                id: \"password\",\n                name: \"password\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 10\n              }, this), errors.password && touched.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-danger\",\n                children: errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 11\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success btn-lg mb-1\",\n              children: \"Ingresar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 9\n            }, this), \"\\xBFNo tienes cuenta?\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/registrar\",\n              children: \"Registrate aqu\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 3\n  }, this);\n}\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/Documentos/Escom/5semestre/Ingeniería de software/jade/src/routes/unlogin/Login.tsx"],"names":["Formik","Field","Form","axios","Yup","Card","Link","Session","App","correo","password","object","shape","string","email","required","values","response","post","login","setLogin","setUser","user","errors","touched"],"mappings":"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","sourcesContent":["import './css/Registro.css';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport axios from \"axios\";\r\nimport Swal from 'sweetalert2';\r\nimport * as Yup from 'yup';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport Session from \"../../session/Session\";\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<div className=\"registro-container\">\r\n\t\t\t<Card className=\"registro-card\">\r\n\t\t\t\t<Card.Img variant=\"top\" src=\"/img/jade_logo.jpg\" />\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Title>Iniciar Sesión</Card.Title>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tinitialValues={{\t\t\t\t\r\n\t\t\t\t\t\t\tcorreo: '',\r\n\t\t\t\t\t\t\tpassword: ''\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\tvalidationSchema={Yup.object().shape({\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcorreo: Yup.string().email('Email inválido').required('Obligatorio'),\r\n\t\t\t\t\t\t\tpassword: Yup.string().required(\"Obligatorio\"), \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\tonSubmit={async (values) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Hacer una llamada de AJAX para verificar al usuario\r\n\t\t\t\t\t\t\tlet response: any = await axios.post(\"localhost:3500/api/login\", values);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (response.login === true) {\r\n\t\t\t\t\t\t\t\t// Guardar los datos del USUARIO si está verificado\r\n\t\t\t\t\t\t\t\tSession.setLogin(true);\r\n\t\t\t\t\t\t\t\tSession.setUser( response.user == 0 ? \"usuario\" : \"admin\");\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tSession.setLogin(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({ errors, touched }) => (\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Correo electrónico</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"text\" id=\"correo\" name=\"correo\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.correo && touched.correo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.correo}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Contraseña</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"password\" id=\"password\" name=\"password\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.password && touched.password ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.password}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-success btn-lg mb-1\">Ingresar</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t¿No tienes cuenta?&nbsp;\r\n\t\t\t\t\t\t\t\t<Link to=\"/registrar\" >Registrate aquí</Link>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}