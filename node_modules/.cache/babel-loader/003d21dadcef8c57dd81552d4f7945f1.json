{"ast":null,"code":"import _regeneratorRuntime from\"E:/Documentos/Escom/5semestre/Ingenier\\xEDa de software/jade/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Documentos/Escom/5semestre/Ingenier\\xEDa de software/jade/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import'./css/Registro.css';import{Formik,Field,Form}from'formik';import axios from\"axios\";import Swal from'sweetalert2';import*as Yup from'yup';import{Card}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"registro-container\",children:/*#__PURE__*/_jsxs(Card,{className:\"registro-card\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"/img/educacion.jpg\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Registrar Usuario\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{nombre:'',correo:'',password:'',confirmPw:''},validationSchema:Yup.object().shape({nombre:Yup.string().required(\"Obligatorio\"),correo:Yup.string().email('Email inválido').required('Obligatorio'),password:Yup.string().required(\"Obligatorio\"),confirmPw:Yup.string().when(\"password\",{is:function is(val){return val&&val.length>0?true:false;},then:Yup.string().oneOf([Yup.ref(\"password\")],\"Las contraseñas deben de ser las mismas\")}).required(\"Obligatorio\")}),onSubmit:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(values.password!==values.confirmPw)){_context.next=4;break;}Swal.fire({icon:'error',title:'Las contraseñas no son iguales!'});_context.next=9;break;case 4:Swal.fire({icon:'success',title:'Cuenta creada!'});// Hacer una llamada de AJAX para verificar al usuario\n_context.next=7;return axios.post(\"/login\",values);case 7:response=_context.sent;if(response.login===true){// Guardar los datos del USUARIO si está verificado\n}case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),children:function children(_ref2){var errors=_ref2.errors,touched=_ref2.touched;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1q\",children:\"Nombre Completo\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"nombre\",name:\"nombre\",className:\"form-control\"}),errors.nombre&&touched.nombre?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.nombre}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1q\",children:\"Correo\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"correo\",name:\"correo\",className:\"form-control\"}),errors.correo&&touched.correo?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.correo}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1q\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",id:\"password\",name:\"password\",className:\"form-control\"}),errors.password&&touched.password?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.password}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1q\",children:\"Repite contrase\\xF1a\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",id:\"confirmPw\",name:\"confirmPw\",className:\"form-control\"}),errors.confirmPw&&touched.confirmPw?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.confirmPw}):null]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success btn-lg mb-1\",children:\"Registrar\"})]});}})]})]})});}","map":{"version":3,"sources":["E:/Documentos/Escom/5semestre/Ingeniería de software/jade/src/routes/unlogin/Registro.tsx"],"names":["Formik","Field","Form","axios","Swal","Yup","Card","App","nombre","correo","password","confirmPw","object","shape","string","required","email","when","is","val","length","then","oneOf","ref","values","fire","icon","title","post","response","login","errors","touched"],"mappings":"mWAAA,MAAO,oBAAP,CACA,OAASA,MAAT,CAAiBC,KAAjB,CAAwBC,IAAxB,KAAoC,QAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,OAASC,IAAT,KAAqB,iBAArB,C,wFAEA,cAAe,SAASC,CAAAA,GAAT,EAAe,CAC7B,mBACC,YAAK,SAAS,CAAC,oBAAf,uBACC,MAAC,IAAD,EAAM,SAAS,CAAC,eAAhB,wBACC,KAAC,IAAD,CAAM,GAAN,EAAU,OAAO,CAAC,KAAlB,CAAwB,GAAG,CAAC,oBAA5B,EADD,cAEC,MAAC,IAAD,CAAM,IAAN,yBACC,KAAC,IAAD,CAAM,KAAN,gCADD,cAEC,KAAC,MAAD,EACC,aAAa,CAAE,CACdC,MAAM,CAAE,EADM,CAEdC,MAAM,CAAE,EAFM,CAGdC,QAAQ,CAAE,EAHI,CAIdC,SAAS,CAAE,EAJG,CADhB,CAQC,gBAAgB,CAAEN,GAAG,CAACO,MAAJ,GAAaC,KAAb,CAAmB,CACpCL,MAAM,CAAEH,GAAG,CAACS,MAAJ,GAAaC,QAAb,CAAsB,aAAtB,CAD4B,CAEpCN,MAAM,CAAEJ,GAAG,CAACS,MAAJ,GAAaE,KAAb,CAAmB,gBAAnB,EAAqCD,QAArC,CAA8C,aAA9C,CAF4B,CAGpCL,QAAQ,CAAEL,GAAG,CAACS,MAAJ,GAAaC,QAAb,CAAsB,aAAtB,CAH0B,CAIpCJ,SAAS,CAAEN,GAAG,CAACS,MAAJ,GAAaG,IAAb,CAAkB,UAAlB,CAA8B,CACxCC,EAAE,CAAE,YAACC,GAAD,CAAc,CACjB,MAAQA,CAAAA,GAAG,EAAIA,GAAG,CAACC,MAAJ,CAAa,CAApB,CAAwB,IAAxB,CAA+B,KAAvC,CACA,CAHuC,CAIxCC,IAAI,CAAEhB,GAAG,CAACS,MAAJ,GAAaQ,KAAb,CACL,CAAEjB,GAAG,CAACkB,GAAJ,CAAQ,UAAR,CAAF,CADK,CAEL,yCAFK,CAJkC,CAA9B,EAQRR,QARQ,CAQC,aARD,CAJyB,CAAnB,CARnB,CAuBC,QAAQ,0FAAE,iBAAOS,MAAP,oIAELA,MAAM,CAACd,QAAP,GAAoBc,MAAM,CAACb,SAFtB,0BAGRP,IAAI,CAACqB,IAAL,CACC,CACCC,IAAI,CAAE,OADP,CAECC,KAAK,CAAE,iCAFR,CADD,EAHQ,6BAURvB,IAAI,CAACqB,IAAL,CACC,CACCC,IAAI,CAAE,SADP,CAECC,KAAK,CAAE,gBAFR,CADD,EAMA;AAhBQ,sBAiBkBxB,CAAAA,KAAK,CAACyB,IAAN,CAAW,QAAX,CAAqBJ,MAArB,CAjBlB,QAiBJK,QAjBI,eAmBR,GAAIA,QAAQ,CAACC,KAAT,GAAmB,IAAvB,CAA6B,CAC5B;AAEA,CAtBO,sDAAF,8DAvBT,UAiDE,4BAAGC,CAAAA,MAAH,OAAGA,MAAH,CAAWC,OAAX,OAAWA,OAAX,oBACA,MAAC,IAAD,yBACC,oCACC,cAAO,SAAS,CAAC,YAAjB,CAA8B,OAAO,CAAC,gBAAtC,6BADD,cAEC,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAA+B,IAAI,CAAC,QAApC,CAA6C,SAAS,CAAC,cAAvD,EAFD,CAGED,MAAM,CAACvB,MAAP,EAAiBwB,OAAO,CAACxB,MAAzB,cACA,YAAK,SAAS,CAAC,aAAf,UAA8BuB,MAAM,CAACvB,MAArC,EADA,CAEG,IALL,cAOC,aAPD,cAQC,cAAO,SAAS,CAAC,YAAjB,CAA8B,OAAO,CAAC,gBAAtC,oBARD,cASC,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAA+B,IAAI,CAAC,QAApC,CAA6C,SAAS,CAAC,cAAvD,EATD,CAUEuB,MAAM,CAACtB,MAAP,EAAiBuB,OAAO,CAACvB,MAAzB,cACA,YAAK,SAAS,CAAC,aAAf,UAA8BsB,MAAM,CAACtB,MAArC,EADA,CAEG,IAZL,cAcC,aAdD,cAeC,cAAO,SAAS,CAAC,YAAjB,CAA8B,OAAO,CAAC,gBAAtC,2BAfD,cAgBC,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,IAAI,CAAC,UAA1C,CAAqD,SAAS,CAAC,cAA/D,EAhBD,CAiBEsB,MAAM,CAACrB,QAAP,EAAmBsB,OAAO,CAACtB,QAA3B,cACA,YAAK,SAAS,CAAC,aAAf,UAA8BqB,MAAM,CAACrB,QAArC,EADA,CAEG,IAnBL,cAqBC,aArBD,cAsBC,cAAO,SAAS,CAAC,YAAjB,CAA8B,OAAO,CAAC,gBAAtC,kCAtBD,cAuBC,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,WAA1B,CAAsC,IAAI,CAAC,WAA3C,CAAuD,SAAS,CAAC,cAAjE,EAvBD,CAwBEqB,MAAM,CAACpB,SAAP,EAAoBqB,OAAO,CAACrB,SAA5B,cACA,YAAK,SAAS,CAAC,aAAf,UAA8BoB,MAAM,CAACpB,SAArC,EADA,CAEG,IA1BL,GADD,cA6BC,aA7BD,cA8BC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,6BAAhC,uBA9BD,GADA,EAjDF,EAFD,GAFD,GADD,EADD,CA8FA","sourcesContent":["import './css/Registro.css';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport axios from \"axios\";\r\nimport Swal from 'sweetalert2';\r\nimport * as Yup from 'yup';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<div className=\"registro-container\">\r\n\t\t\t<Card className=\"registro-card\">\r\n\t\t\t\t<Card.Img variant=\"top\" src=\"/img/educacion.jpg\" />\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Title>Registrar Usuario</Card.Title>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tnombre: '',\r\n\t\t\t\t\t\t\tcorreo: '',\r\n\t\t\t\t\t\t\tpassword: '',\r\n\t\t\t\t\t\t\tconfirmPw: ''\r\n\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t\t\tnombre: Yup.string().required(\"Obligatorio\"),\r\n\t\t\t\t\t\t\tcorreo: Yup.string().email('Email inválido').required('Obligatorio'),\r\n\t\t\t\t\t\t\tpassword: Yup.string().required(\"Obligatorio\"),\r\n\t\t\t\t\t\t\tconfirmPw: Yup.string().when(\"password\", {\r\n\t\t\t\t\t\t\t\tis: (val: any) => {\r\n\t\t\t\t\t\t\t\t\treturn (val && val.length > 0 ? true : false)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tthen: Yup.string().oneOf(\r\n\t\t\t\t\t\t\t\t\t[ Yup.ref(\"password\") ],\r\n\t\t\t\t\t\t\t\t\t\"Las contraseñas deben de ser las mismas\"\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}).required(\"Obligatorio\")\r\n\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\tonSubmit={async (values) => {\r\n\r\n\t\t\t\t\t\t\tif (values.password !== values.confirmPw) {\r\n\t\t\t\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Las contraseñas no son iguales!'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'Cuenta creada!'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t// Hacer una llamada de AJAX para verificar al usuario\r\n\t\t\t\t\t\t\t\tlet response: any = await axios.post(\"/login\", values);\r\n\r\n\t\t\t\t\t\t\t\tif (response.login === true) {\r\n\t\t\t\t\t\t\t\t\t// Guardar los datos del USUARIO si está verificado\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({ errors, touched }) => (\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Nombre Completo</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"text\" id=\"nombre\" name=\"nombre\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.nombre && touched.nombre ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.nombre}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Correo</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"text\" id=\"correo\" name=\"correo\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.correo && touched.correo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.correo}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Contraseña</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"password\" id=\"password\" name=\"password\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.password && touched.password ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.password}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"form3Example1q\">Repite contraseña</label>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"password\" id=\"confirmPw\" name=\"confirmPw\" className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t{errors.confirmPw && touched.confirmPw ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.confirmPw}</div>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-success btn-lg mb-1\">Registrar</button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}